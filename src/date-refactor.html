<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge; chrome=1" />
		<title>Mangled date examples</title>
		<meta name="viewport" content="width=device-width" />
	</head>
	<body>

		<ul>

			<li class="entry" id="post57">
				<p>blah blah blah...</p>
				<small class="extra">
					Posted <a class="time" href="/2008/01/blah/57/" title="2008-01-28T20:24:17Z">January 28th, 2008</a> by <span class="author"><a href="/john/">John Resig</a></span>
				</small>
			</li>
			<li class="entry" id="post57">
				<p>foo blah blah...</p>
				<small class="extra">
					Posted <a class="time" href="/2008/01/blah/57/" title="2008-01-27T22:24:17Z">January 27th, 2008</a> by <span class="author"><a href="/john/">John Resig</a></span>
				</small>
			</li>
			<li class="entry" id="post57">
				<p>blah foo blah...</p>
				<small class="extra">
					Posted <a class="time" href="/2008/01/blah/57/" title="2008-01-26T22:24:17Z">January 26th, 2008</a> by <span class="author"><a href="/john/">John Resig</a></span>
				</small>
			</li>
			<li class="entry" id="post57">
				<p>blah blah foo...</p>
				<small class="extra">
					Posted <a class="time" href="/2008/01/blah/57/" title="2008-01-25T22:24:17Z">January 25th, 2008</a> by <span class="author"><a href="/john/">John Resig</a></span>
				</small>
			</li>

		</ul>
		
		<script src="../node_modules/requirejs/require.js"></script>
		<script>

			require.config({
				baseUrl: 'js'

			});
			require(['DateRefactor'], function(DateRefactor){

				var links = document.querySelectorAll(".time");
				for (var i = 0; i < links.length; i++) {
					if (links[i].title) {
						var date = DateRefactor.prettyDate('2008-01-28T22:25:00Z', links[i].title);
						if (date) {
							links[i].innerHTML = date;
						}
					}
				}

			});
			
		</script>
	</body>
</html>